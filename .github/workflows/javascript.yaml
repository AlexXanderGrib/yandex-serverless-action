  
name: Javascript action

on: [push]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: Use Node.js
      uses: actions/setup-node@v1
      with:
        node-version: '12.x'
    - uses: goodsmileduck/yandex-serverless-action@javascript
      with:
        source: 'example'
        zone: 'ru-central1-a'
        function_id: 'hello'
        runtime: 'python37'
        entrypoint: handler.hello
        environment: SOME=User Name <info@domain.com>,BOSS=1,NEW=true
        cloud_id: ${{ secrets.CLOUD_ID }}
        folder_id: ${{ secrets.FOLDER_ID }}
        iam_token: ${{ secrets.TOKEN }}
        execution_timeout: '600'